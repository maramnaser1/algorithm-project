import java.awt.Color;
import java.awt.image.BufferedImage;
import java.io.File;
import javax.imageio.ImageIO;
public class Test {
	  // Convert image to Color matrix
    public static Color[][] bufferedToColorArray(BufferedImage img) {
        int rows = img.getHeight();
        int cols = img.getWidth();
        Color[][] arr = new Color[rows][cols];

        for (int r = 0; r < rows; r++) {
            for (int c = 0; c < cols; c++) {
                arr[r][c] = new Color(img.getRGB(c, r));
            }
        }
        return arr;
    }

    // Convert Color matrix back to BufferedImage
    public static BufferedImage colorArrayToBuffered(Color[][] arr) {
        int rows = arr.length;
        int cols = arr[0].length;

        BufferedImage img = new BufferedImage(cols, rows, BufferedImage.TYPE_INT_RGB);

        for (int r = 0; r < rows; r++) {
            for (int c = 0; c < cols; c++) {
                img.setRGB(c, r, arr[r][c].getRGB());
            }
        }
        return img;
    }
	
		
		  
		    public static void main(String[] args) {
                // Load image from project folder
                try {
                    
                    BufferedImage input = ImageIO.read(new File("cartoon(1).jpg"));
                    Color[][] matrix = bufferedToColorArray(input);
                    // Convert image to Color[][]

                    DP sc = new DP(matrix);
                    // Create seam carver

                    sc.shrinkWidth(80);   // <<< هنا حطي عدد البكسلات اللي تبين نقصينها
                    // REMOVE MANY SEAMS TO SEE CLEAR CHANGE

                    Color[][] newImgArr = sc.getImage();
                    // Convert back to image and save result
                    
                    BufferedImage output = colorArrayToBuffered(newImgArr);
                    
                    ImageIO.write(output, "jpg", new File("43images_output.jpg"));
                    
                    System.out.println("Done! Check the file: images/output.jpg");
                    
                } catch (Exception e) {
                    System.out.println("Error: " + e);
                }
            }

		    
		}
